#
# Target & Hardware Support (GL-MT6000 / Filogic 830)
#
CONFIG_TARGET_mediatek=y
CONFIG_TARGET_mediatek_filogic=y
CONFIG_TARGET_mediatek_filogic_DEVICE_glinet_gl-mt6000=y
CONFIG_TARGET_OPTIONS=y
CONFIG_PACKAGE_kmod-mtk-eth-subs=y
CONFIG_PACKAGE_mtkhnat_util=m
CONFIG_PACKAGE_kmod-mtk-hnat=y
CONFIG_PACKAGE_kmod-mt76-connac=y
CONFIG_PACKAGE_ethtool=y
#CONFIG_PACKAGE_usbutils=y
CONFIG_PACKAGE_usbids=y
CONFIG_PACKAGE_lm-sensors=y

#
# Compiler & Build Optimizations
#
CONFIG_DEVEL=y
CONFIG_USE_LLVM_BUILD=y
CONFIG_IMAGEOPT=y
CONFIG_VERSIONOPT=y
CONFIG_USE_LTO=y
CONFIG_USE_GC_SECTIONS=y
CONFIG_USE_UCLIBCXX=y
CONFIG_STRIP_KERNEL_EXPORTS=y
# Optimization for Cortex-A53 with Crypto extensions (Filogic 830)
CONFIG_TARGET_OPTIMIZATION="-O2 -pipe -mcpu=cortex-a53+crc+crypto"
CONFIG_KERNEL_BUILD_DOMAIN="buildhost"
CONFIG_KERNEL_BUILD_USER="builder"
CONFIG_JSON_CYCLONEDX_SBOM=y

#
# Security & Hardening Options
#
CONFIG_BUSYBOX_CONFIG_PIE=y
CONFIG_BUSYBOX_DEFAULT_PIE=y
CONFIG_PKG_ASLR_PIE_ALL=y
CONFIG_PKG_CC_STACKPROTECTOR_STRONG=y
CONFIG_KERNEL_STACKPROTECTOR_STRONG=y
CONFIG_KERNEL_CC_STACKPROTECTOR_STRONG=y
CONFIG_PKG_FORTIFY_SOURCE_2=y

#
# Network Stack & Offloading (BBR, CAKE, HNAT)
#
CONFIG_PACKAGE_kmod-tcp-bbr=y
CONFIG_PACKAGE_kmod-google-bql=y
CONFIG_PACKAGE_kmod-ipt-offload=y
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-sched-cake=y
CONFIG_PACKAGE_kmod-ifb=y
CONFIG_PACKAGE_kmod-sched-core=y
CONFIG_PACKAGE_tc-tiny=y
CONFIG_PACKAGE_kmod-nf-conntrack-netlink=y
CONFIG_PACKAGE_bridger=y

#
# VPN & Policy Routing Support (WireGuard + PBR)
#
CONFIG_PACKAGE_kmod-wireguard=y
CONFIG_PACKAGE_luci-app-wireguard=y
CONFIG_PACKAGE_luci-app-pbr=y
CONFIG_PACKAGE_kmod-nft-tproxy=y
CONFIG_PACKAGE_kmod-nft-socket=y
CONFIG_PACKAGE_kmod-nft-set-hash=y

#
# DNS & DHCP (Dnsmasq-Full + AdGuardHome)
#
# CONFIG_PACKAGE_dnsmasq is not set
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dnsmasq_full_conntrack=y
CONFIG_PACKAGE_dnsmasq_full_dhcp=y
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y
CONFIG_PACKAGE_dnsmasq_full_dnssec=y
CONFIG_PACKAGE_dnsmasq_full_nftset=y
CONFIG_PACKAGE_adguardhome=y
CONFIG_PACKAGE_odhcpd=y
CONFIG_PACKAGE_odhcpd-ipv6only=y 
CONFIG_PACKAGE_odhcpd-mod-rrdns=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_udhcp=y

#
# SSL & Cryptography (Optimized for Filogic 830)
#
# Ensure mbedTLS is completely out to avoid conflicts
# CONFIG_PACKAGE_libmbedtls is not set
# CONFIG_PACKAGE_wpad-basic-mbedtls is not set

# Core Libraries & Root Certificates (CRITICAL)
CONFIG_PACKAGE_libopenssl=y
CONFIG_PACKAGE_libopenssl-conf=y
CONFIG_PACKAGE_openssl-util=y
CONFIG_PACKAGE_ca-bundle=y

# Hardware Acceleration for MT6000
CONFIG_PACKAGE_kmod-cryptodev=y
CONFIG_PACKAGE_kmod-crypto-user=y
CONFIG_OPENSSL_ENGINE=y
CONFIG_OPENSSL_ENGINE_BUILTIN=y
CONFIG_OPENSSL_ENGINE_BUILTIN_DEVCRYPTO=y

# OpenSSL Fine-Tuning
CONFIG_OPENSSL_OPTIMIZE_SPEED=y
CONFIG_OPENSSL_WITH_ASM=y
CONFIG_OPENSSL_WITH_CHACHA_POLY1305=y
CONFIG_OPENSSL_WITH_CMS=y
CONFIG_OPENSSL_WITH_ERROR_MESSAGES=y
CONFIG_OPENSSL_WITH_PSK=y
CONFIG_OPENSSL_WITH_SRP=y
CONFIG_OPENSSL_WITH_TLS13=y
CONFIG_OPENSSL_NO_DEPRECATED=y

# Application Integration
CONFIG_LUA_ECO_OPENSSL=y
CONFIG_LIBCURL_OPENSSL=y
CONFIG_PACKAGE_luci-ssl-openssl=y
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_wpad-openssl=y
CONFIG_PACKAGE_apk-openssl=y

#
# Wireless Management
#
CONFIG_PACKAGE_dawn=y
CONFIG_PACKAGE_luci-app-dawn=y
CONFIG_WIFI_SCRIPTS_UCODE=y

#
# Text Editor
#
CONFIG_PACKAGE_nano-full=y
CONFIG_PACKAGE_terminfo=y

#
# LuCI Web Interface 
#
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-mod-network=y
CONFIG_PACKAGE_luci-mod-status=y
CONFIG_PACKAGE_luci-mod-system=y
CONFIG_PACKAGE_luci-theme-bootstrap=y
CONFIG_PACKAGE_luci-app-advanced=y
CONFIG_PACKAGE_luci-app-firewall=y
CONFIG_PACKAGE_luci-app-package-manager=y
CONFIG_PACKAGE_luci-app-irqbalance=y
CONFIG_PACKAGE_luci-app-ttyd=y
CONFIG_PACKAGE_luci-proto-ipv6=y
CONFIG_PACKAGE_luci-proto-ppp=y

#
# System Utilities & Communication (Critical for LuCI)
#
CONFIG_PACKAGE_uhttpd=y
CONFIG_PACKAGE_uhttpd-mod-ubus=y
CONFIG_PACKAGE_rpcd=y
CONFIG_PACKAGE_rpcd-mod-file=y
CONFIG_PACKAGE_rpcd-mod-iwinfo=y
CONFIG_PACKAGE_rpcd-mod-luci=y
CONFIG_PACKAGE_rpcd-mod-rpcsys=y
CONFIG_PACKAGE_rpcd-mod-rrdns=y
CONFIG_PACKAGE_rpcd-mod-ucode=y
CONFIG_PACKAGE_irqbalance=y
CONFIG_PACKAGE_iperf3=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_jq=y
CONFIG_PACKAGE_blkid=y
CONFIG_PACKAGE_dbus=y
CONFIG_PACKAGE_kmod-lib-zstd=y
CONFIG_PACKAGE_zstd=y

#
# Storage & Filesystems
#
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-f2fs=y
CONFIG_PACKAGE_kmod-nls-cp437=y
CONFIG_PACKAGE_kmod-nls-iso8859-1=y
CONFIG_PACKAGE_kmod-nls-utf8=y
CONFIG_PACKAGE_kmod-zram=y
CONFIG_PACKAGE_zram-swap=y
CONFIG_PACKAGE_kmod-ramoops=y
CONFIG_PACKAGE_kmod-iosched-deadline=y

#
# SSH Server (Using OpenSSH instead of Dropbear)
#
# CONFIG_PACKAGE_dropbear is not set
CONFIG_PACKAGE_openssh-keygen=y
CONFIG_PACKAGE_openssh-moduli=y
CONFIG_PACKAGE_openssh-server=y
CONFIG_PACKAGE_openssh-sftp-server=y

#
# Cleanup
#
# CONFIG_PACKAGE_libnatpmp is not set
# CONFIG_KERNEL_DEBUG_FS is not set
