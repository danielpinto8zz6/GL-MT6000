net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr

# Memory buffers for 2.5G/Gigabit throughput
net.core.rmem_max=16777216
net.core.wmem_max=16777216
net.ipv4.tcp_rmem=4096 87380 16777216
net.ipv4.tcp_wmem=4096 65536 16777216

# Increase packet backlog and connection limits
net.core.netdev_max_backlog=10000
net.core.somaxconn=1024

# TCP Latency and Handshake optimizations
net.ipv4.tcp_slow_start_after_idle=0
net.ipv4.tcp_mtu_probing=1
net.ipv4.tcp_fastopen=3
net.ipv4.tcp_syncookies=1
net.ipv4.tcp_max_syn_backlog=4096

# ARP Table (Neighbor) optimizations for many devices
net.ipv4.neigh.default.gc_thresh1=512
net.ipv4.neigh.default.gc_thresh2=2048
net.ipv4.neigh.default.gc_thresh3=4096

# Virtual Memory/Writeback tweaks (saves Flash/eMMC wear)
vm.swappiness=10
vm.vfs_cache_pressure=50